(function(){function j(n,l){var o=this;o.element=typeof n=="object"?n:document.getElementById(n);o.wrapper=o.element.parentNode;o.element.style.webkitTransitionProperty="-webkit-transform";o.element.style.webkitTransitionTimingFunction="cubic-bezier(0,0,0.25,1)";o.element.style.webkitTransitionDuration="0";o.element.style.webkitTransform=h+"0,0"+translateClose;o.options={bounce:d,momentum:d,checkDOMChanges:true,topOnDOMChanges:false,hScrollbar:d,vScrollbar:d,fadeScrollbar:b||c||!a,shrinkScrollbar:b||c,desktopCompatibility:false,overflow:"auto"};if(typeof l=="object"){for(var m in l){o.options[m]=l[m]}}if(o.options.desktopCompatibility){o.options.overflow="hidden"}o.wrapper.style.overflow=o.options.overflow;o.refresh();window.addEventListener("onorientationchange" in window?"orientationchange":"resize",o,false);if(a||o.options.desktopCompatibility){o.element.addEventListener(f,o,false);o.element.addEventListener(i,o,false);o.element.addEventListener(e,o,false)}if(o.options.checkDOMChanges){o.element.addEventListener("DOMSubtreeModified",o,false)}if(!a){o.element.addEventListener("click",o,true)}}j.prototype={x:0,y:0,dist:0,handleEvent:function(m){var l=this;switch(m.type){case"click":if(!m._fake){m.stopPropagation()}break;case f:l.touchStart(m);break;case i:l.touchMove(m);break;case e:l.touchEnd(m);break;case"webkitTransitionEnd":l.transitionEnd(m);break;case"orientationchange":case"resize":l.refresh();break;case"DOMSubtreeModified":l.onDOMModified(m);break}},onDOMModified:function(l){this.refresh();if(this.options.topOnDOMChanges&&(this.x!=0||this.y!=0)){this.scrollTo(0,0,"0")}},refresh:function(){var l=this,n=this.x,m=this.y;l.scrollWidth=l.wrapper.clientWidth;l.scrollHeight=l.wrapper.clientHeight;l.scrollerWidth=l.element.offsetWidth;l.scrollerHeight=l.element.offsetHeight;l.maxScrollX=l.scrollWidth-l.scrollerWidth;l.maxScrollY=l.scrollHeight-l.scrollerHeight;if(l.scrollX){if(l.maxScrollX>=0){n=0}else{if(l.x<l.maxScrollX){n=l.maxScrollX}}}if(l.scrollY){if(l.maxScrollY>=0){m=0}else{if(l.y<l.maxScrollY){m=l.maxScrollY}}}if(n!=l.x||m!=l.y){l.setTransitionTime("0");l.setPosition(n,m,true)}l.scrollX=l.scrollerWidth>l.scrollWidth;l.scrollY=!l.scrollX||l.scrollerHeight>l.scrollHeight;if(l.options.hScrollbar&&l.scrollX){l.scrollBarX=(l.scrollBarX instanceof k)?l.scrollBarX:new k("horizontal",l.wrapper,l.options.fadeScrollbar,l.options.shrinkScrollbar);l.scrollBarX.init(l.scrollWidth,l.scrollerWidth)}else{if(l.scrollBarX){l.scrollBarX=l.scrollBarX.remove()}}if(l.options.vScrollbar&&l.scrollY&&l.scrollerHeight>l.scrollHeight){l.scrollBarY=(l.scrollBarY instanceof k)?l.scrollBarY:new k("vertical",l.wrapper,l.options.fadeScrollbar,l.options.shrinkScrollbar);l.scrollBarY.init(l.scrollHeight,l.scrollerHeight)}else{if(l.scrollBarY){l.scrollBarY=l.scrollBarY.remove()}}},setPosition:function(l,o,n){var m=this;this.x=l;this.y=o;m.element.style.webkitTransform=h+m.x+"px,"+m.y+"px"+translateClose;if(!n){if(m.scrollBarX){m.scrollBarX.setPosition(m.x)}if(m.scrollBarY){m.scrollBarY.setPosition(m.y)}}},setTransitionTime:function(m){var l=this;m=m||"0";l.element.style.webkitTransitionDuration=m;if(l.scrollBarX){l.scrollBarX.bar.style.webkitTransitionDuration=m;l.scrollBarX.wrapper.style.webkitTransitionDuration=d&&l.options.fadeScrollbar?"300ms":"0"}if(l.scrollBarY){l.scrollBarY.bar.style.webkitTransitionDuration=m;l.scrollBarY.wrapper.style.webkitTransitionDuration=d&&l.options.fadeScrollbar?"300ms":"0"}},touchStart:function(n){var m=this,l;m.scrolling=true;n.preventDefault();n.stopPropagation();m.moved=false;m.dist=0;m.setTransitionTime("0");if(m.options.momentum){l=new WebKitCSSMatrix(window.getComputedStyle(m.element).webkitTransform);if(l.e!=m.x||l.f!=m.y){m.element.removeEventListener("webkitTransitionEnd",m,false);m.setPosition(l.e,l.f);m.moved=true}}m.touchStartX=a?n.changedTouches[0].pageX:n.pageX;m.scrollStartX=m.x;m.touchStartY=a?n.changedTouches[0].pageY:n.pageY;m.scrollStartY=m.y;m.scrollStartTime=n.timeStamp},touchMove:function(r){var p=this,o=a?r.changedTouches[0].pageX:r.pageX,n=a?r.changedTouches[0].pageY:r.pageY,m=p.scrollX?o-p.touchStartX:0,l=p.scrollY?n-p.touchStartY:0,s=p.x+m,q=p.y+l;if(!p.scrolling){return}p.dist+=Math.abs(p.touchStartX-o)+Math.abs(p.touchStartY-n);p.touchStartX=o;p.touchStartY=n;if(s>0||s<p.maxScrollX){s=p.options.bounce?Math.round(p.x+m/3):s>=0?0:p.maxScrollX}if(q>0||q<p.maxScrollY){q=p.options.bounce?Math.round(p.y+l/3):q>=0?0:p.maxScrollY}if(p.dist>5){p.setPosition(s,q);p.moved=true}},touchEnd:function(s){var r=this,o=s.timeStamp-r.scrollStartTime,t,u,m,l,n,q,p;if(!r.scrolling){return}r.scrolling=false;if(!r.moved){r.resetPosition();t=a?s.changedTouches[0].target:s.target;while(t.nodeType!=1){t=t.parentNode}u=document.createEvent("Event");u.initEvent("focus",true,true);t.dispatchEvent(u);u=document.createEvent("MouseEvents");u.initMouseEvent("click",true,true,s.view,1,t.screenX,t.screenY,t.clientX,t.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,0,null);u._fake=true;t.dispatchEvent(u);return}if(!r.options.momentum||o>250){r.resetPosition();return}m=r.scrollX===true?r.momentum(r.x-r.scrollStartX,o,r.options.bounce?-r.x+r.scrollWidth/5:-r.x,r.options.bounce?r.x+r.scrollerWidth-r.scrollWidth+r.scrollWidth/5:r.x+r.scrollerWidth-r.scrollWidth):{dist:0,time:0};l=r.scrollY===true?r.momentum(r.y-r.scrollStartY,o,r.options.bounce?-r.y+r.scrollHeight/5:-r.y,r.options.bounce?(r.maxScrollY<0?r.y+r.scrollerHeight-r.scrollHeight:0)+r.scrollHeight/5:r.y+r.scrollerHeight-r.scrollHeight):{dist:0,time:0};if(!m.dist&&!l.dist){r.resetPosition();return false}n=Math.max(Math.max(m.time,l.time),1);q=r.x+m.dist;p=r.y+l.dist;r.scrollTo(q,p,n+"ms")},transitionEnd:function(){this.element.removeEventListener("webkitTransitionEnd",this,false);this.resetPosition()},resetPosition:function(n){var l=this,o=l.x,m=l.y,l=l,n=n||"500ms";if(l.x>=0){o=0}else{if(l.x<l.maxScrollX){o=l.maxScrollX}}if(l.y>=0||l.maxScrollY>0){m=0}else{if(l.y<l.maxScrollY){m=l.maxScrollY}}if(o!=l.x||m!=l.y){l.scrollTo(o,m,n)}else{if(l.scrollBarX||l.scrollBarY){if(l.scrollBarX){l.scrollBarX.hide()}if(l.scrollBarY){l.scrollBarY.hide()}}}},scrollTo:function(m,l,o){var n=this;n.setTransitionTime(o||"450ms");n.setPosition(m,l);if(o==="0"||o=="0s"||o=="0ms"){n.resetPosition()}else{n.element.addEventListener("webkitTransitionEnd",n,false)}},scrollToElement:function(m,o){m=typeof m=="object"?m:this.element.querySelector(m);if(!m){return}var n=this,l=n.scrollX?-m.offsetLeft:0,p=n.scrollY?-m.offsetTop:0;if(l>=0){l=0}else{if(l<n.maxScrollX){l=n.maxScrollX}}if(p>=0){p=0}else{if(p<n.maxScrollY){p=n.maxScrollY}}n.scrollTo(l,p,o)},momentum:function(s,m,q,l){var p=2.5,r=1.2,n=Math.abs(s)/m*1000,o=n*n/p/1000,t=0;if(s>0&&o>q){n=n*q/o/p;o=q}else{if(s<0&&o>l){n=n*l/o/p;o=l}}o=o*(s<0?-1:1);t=n/r;return{dist:Math.round(o),time:Math.round(t)}},destroy:function(l){var m=this;window.removeEventListener("resize",m,false);m.element.removeEventListener(f,m,false);m.element.removeEventListener(i,m,false);m.element.removeEventListener(e,m,false);m.element.removeEventListener("DOMSubtreeModified",m,false);m.element.removeEventListener("click",m,true);m.element.removeEventListener("webkitTransitionEnd",m,false);if(m.scrollBarX){m.scrollBarX=m.scrollBarX.remove()}if(m.scrollBarY){m.scrollBarY=m.scrollBarY.remove()}if(l){m.wrapper.parentNode.removeChild(m.wrapper)}return null}};var k=function(m,s,r,o){var q=this;q.dir=m;q.fade=r;q.shrink=o;q.uid=++uid;q.bar=document.createElement("div");var p="position:absolute;top:0;left:0;-webkit-transition-timing-function:cubic-bezier(0,0,0.25,1);pointer-events:none;-webkit-transition-duration:0;-webkit-transition-delay:0;-webkit-transition-property:-webkit-transform;z-index:10;background:rgba(0,0,0,0.5);-webkit-transform:"+h+"0,0"+translateClose+";"+(m=="horizontal"?"-webkit-border-radius:3px 2px;min-width:6px;min-height:5px":"-webkit-border-radius:2px 3px;min-width:5px;min-height:6px"),n,l;q.bar.setAttribute("style",p);q.wrapper=document.createElement("div");p="-webkit-mask:-webkit-canvas(scrollbar"+q.uid+q.dir+");position:absolute;z-index:10;pointer-events:none;overflow:hidden;opacity:0;-webkit-transition-duration:"+(r?"300ms":"0")+";-webkit-transition-delay:0;-webkit-transition-property:opacity;"+(q.dir=="horizontal"?"bottom:2px;left:1px;right:7px;height:5px":"top:1px;right:2px;bottom:7px;width:5px;");q.wrapper.setAttribute("style",p);q.wrapper.appendChild(q.bar);s.appendChild(q.wrapper)};k.prototype={init:function(l,o){var p=this,m,n;if(p.dir=="horizontal"){n=p.wrapper.offsetWidth;m=document.getCSSCanvasContext("2d","scrollbar"+p.uid+p.dir,n,5);m.fillStyle="rgb(0,0,0)";m.beginPath();m.arc(2.5,2.5,2.5,Math.PI/2,-Math.PI/2,false);m.lineTo(n-2.5,0);m.arc(n-2.5,2.5,2.5,-Math.PI/2,Math.PI/2,false);m.closePath();m.fill()}else{n=p.wrapper.offsetHeight;m=document.getCSSCanvasContext("2d","scrollbar"+p.uid+p.dir,5,n);m.fillStyle="rgb(0,0,0)";m.beginPath();m.arc(2.5,2.5,2.5,Math.PI,0,false);m.lineTo(5,n-2.5);m.arc(2.5,n-2.5,2.5,0,Math.PI,false);m.closePath();m.fill()}p.maxSize=p.dir=="horizontal"?p.wrapper.clientWidth:p.wrapper.clientHeight;p.size=Math.round(p.maxSize*p.maxSize/o);p.maxScroll=p.maxSize-p.size;p.toWrapperProp=p.maxScroll/(l-o);p.bar.style[p.dir=="horizontal"?"width":"height"]=p.size+"px"},setPosition:function(n,m){var l=this;if(!m&&l.wrapper.style.opacity!="1"){l.show()}n=l.toWrapperProp*n;if(n<0){n=l.shrink?n+n*3:0;if(l.size+n<5){n=-l.size+5}}else{if(n>l.maxScroll){n=l.shrink?n+(n-l.maxScroll)*3:l.maxScroll;if(l.size+l.maxScroll-n<5){n=l.size+l.maxScroll-5}}}n=l.dir=="horizontal"?h+Math.round(n)+"px,0"+translateClose:h+"0,"+Math.round(n)+"px"+translateClose;l.bar.style.webkitTransform=n},show:function(){if(d){this.wrapper.style.webkitTransitionDelay="0"}this.wrapper.style.opacity="1"},hide:function(){if(d){this.wrapper.style.webkitTransitionDelay="200ms"}this.wrapper.style.opacity="0"},remove:function(){this.wrapper.parentNode.removeChild(this.wrapper);return null}};var d=("WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix()),b=navigator.appVersion.match(/iphone/gi)?true:false,c=navigator.appVersion.match(/ipad/gi)?true:false,g=navigator.appVersion.match(/android/gi)?true:false,a=b||c||g,f=a?"touchstart":"mousedown",i=a?"touchmove":"mousemove",e=a?"touchend":"mouseup",h="translate"+(d?"3d(":"(");translateClose=d?",0)":")";uid=0;window.iScroll=j})();